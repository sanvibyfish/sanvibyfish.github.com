---
layout: post
title: "Hybrid应用调研"
description: ""
category: ""
tags: []
comments: true
---


##HTML5

前段时间，Facebook推出原生iOS应用，响应速度较之旧版有了大幅提升，一时之间引起了业界的广泛关注。不过人们关注的并不是因为原生应用本身有多好多快，而是扎克伯格那句“Facebook 的应用完全依赖 HTML5 是最大的错误，导致浪费了 2 年宝贵的时间，将来要改为原生应用”的言论。

下面是Tobie Langel列出的四大原因：  

> **1.工具/开发者API**
>
> 没有相应的工具对内存进行跟踪。
>
> **2.网页滚屏效果**
>
> 用户在浏览网页的时候，需要的是非常流畅的滚动效果，而基于HTML5的Facebook应用并没有做到这一点。Facebook 这次的改进针对网页滚动进行了提升。
>
> **3.GPU**
>
> 图片处理并不是HTML5擅长的地方。如果了解 HTML5 的人，就会发现，图片加载和处理当然是“ 不应该在现阶段使用HTML5实现的”。
>
>**4.其他**
>
>HTML5目前擅长的部分是数据量不大、动画少的页面，而这恰恰是Faceabook注重的地方。相比之下，原生应用能够提供更好的触摸跟踪支持，更平滑的动画，更好的缓存。

这个是2012年9月份的事情。Facebook认为Webapp的形式会大大降低用户体验，最明显的是App Store从2星变成了5星。

另外一家公司Linkedin也开始转投原生应用，Kiran Prasad列举了两大理由：

> 第一，一个比较现实的问题是性能问题（Performance）。首先越来越多的人开始将时间花在移动客户端上，这就让客户端占用了大量内存，影响了速度和网页渲染的效果；其次是为了更好地实现一些动画效果，比如那个旋转的加载状态符号（Spinner），显然这些动画元素最好存储在本地，而在HTML5的情况下还需要从服务器端调用这个JavaScript。
>
> 第二，HTML5缺乏开发和优化的工具。在Android和iOS平台上，分别有Google和苹果提供相关的SDK和其他工具支持，比如调试器、性能评估工具等。而在HTML5这个平台上，开发者没有这样的专门工具用于移动网页的开发或者优化。此外，用HTML5实现的C/S（主从式架构）应用，在向开发者反馈信息这一步上也缺乏相应的工具支持。

当然，LinkedIn并非彻底摒弃了HTML5。在旧版的客户端中，原生代码与HTML5代码的比例为40/60，而现在则是95/5，仍然用到了HTML5技术。

##Hybrid应用介绍

####Web App
 - 成本低，快速开发
 - 响应式设计
 - 浏览器运行很多手机特性无法访问。例如联系人，推送等
 - single page app
 - 销售渠道限制于浏览器
 
####Native App
 - 学习成本高，开发成本高，开发效率低
 - 不同平台一道坎

####Hybrid App
 - 兼具 Native App 良好用户体验的优势和 Web App 跨平台开发的优势
 - 开发成本和难度比 Native App 小
 - 使得开发和日常维护过程变得集中式、更简短、更经济高效
 - 既可以通过 Native 分发渠道推广产品，也可同时在微信，百度轻，UC等移动平台推广
 
####现状
 - 国外的 Facebook，App Store
 - 国内的百度搜索，淘宝客户端 Android 版。其中百度封装的不是 WebView 而是自己的浏览内核，体验更像原生客户端，更高效。腾讯QQ,微信，大众点评
 
####Hybrid 类型
 - 多 View 混合型
 - 单 View 混合型
 - Web 主体型
 
#####多 View 混合型(中)
即 Native View 和 Web View 独立展示，交替出现。例如我们第一版本的安卓 App。

#####单 View 混合型(好)
即在同一个 View 内，同时包括 Native View 和 Web View。互相之间是覆盖（层叠）的关系。

这种 Hybrid App 的开发成本较高，开发难度较大，但是体验较好。

例如百度搜索为代表的单 View 混合型移动应用，既可以实现充分的灵活性，又能实现较好的用户体验。

#####Web 主体型(差)
即移动应用的主体是 Web View，主要以网页语言编写，穿插 Native 功能的 Hybrid App 开发类型。

这种类型开发的移动应用体验相对而言存在缺陷，但整体开发难度大幅降低，并且基本可以实现跨平台。

Web 主体型的移动应用用户体验的好坏，主要取决于底层中间件的交互与跨平台的能力。

国外的 appMobi、PhoneGap 国内的 AppCan 和 Rexsee 都属于 Web 主体型移动应用中间件。其中 Rexsee 不支持跨平台开发。appMobi 和 PhoneGap 除基础的底层能力更多是通过插件（Plugins）扩展的机制实现 Hybrid。而 AppCan 除了插件机制，还提供了大量的单 View 混合型的接口来完善和弥补 Web 主体型 Hybrid App 体验差的问题，接近Native App 的体验。

##延伸阅读
https://ruby-china.org/topics/23258
http://www.pingwest.com/linkedin-turned-against-hmtl5/
http://www.36kr.com/p/168154.html
http://www.leiphone.com/news/201406/0918-danice-facebook-dumped.html
http://trock.lofter.com/post/117023_e8e175



